CREATE DATABASE INSURANCES;
USE INSURANCES;

CREATE TABLE PERSON(
    driver_id VARCHAR(10)primary key,
    name VARCHAR(20),
    address VARCHAR(30)
);

CREATE TABLE CAR(
    reg_no VARCHAR(15)primary key,
    model VARCHAR(20),
    year int
);

CREATE TABLE ACCIDENT(
   report_no int primary key,
   acc_date date,
   location VARCHAR(30)
);

CREATE TABLE OWNS(
    reg_no VARCHAR(15),
    driver_id VARCHAR(10),
    foreign key(reg_no)references CAR(reg_no)on delete cascade,
    foreign key(driver_id)references PERSON(driver_id)on delete cascade
);

CREATE TABLE PARTICIPATED(
    driver_id VARCHAR(10),
    reg_no VARCHAR(15),
    report_no int,
    damage_amt float(8),
    foreign key(driver_id)references PERSON(driver_id)on delete cascade,
    foreign key(reg_no)references CAR(reg_no)on delete cascade,
    foreign key(report_no)references ACCIDENT(report_no)on delete cascade
);


